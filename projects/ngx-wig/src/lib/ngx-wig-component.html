<div class="ng-wig">
    <ul class="nw-toolbar">
      <li *ngFor="let button of toolbarButtons"
          class="nw-toolbar__item">
        <div *ngIf="!button?.options ; else selectMenu">
          <button type="button"
                  class="nw-button"
                  [ngClass]="[button.styleClass]"
                  [title]="button.title"
                  (click)="execCommand(button.command)"
                  [disabled]="disabled"
                  tabindex="-1">
            <ng-container *ngIf="!button.icon">{{ button.label }}</ng-container>
            <div *ngIf="button.icon"
                 class="icon"
                 [ngClass]="[button.icon]">
            </div>
          </button>
        </div>
        <ng-template #selectMenu>
          <div *ngIf="!button?.isDropdown; else dropdownButton"
                class="select-menu">
            <select (change)="execCommand(button.command, $event.target.value)" [title]="button.title" [ngClass]="[button.styleClass]">
              <option value="">{{button.title}}</option>
              <option *ngFor="let option of button.options" [value]="option.value">{{option.label}}</option>
            </select>
          </div>

          <ng-template #dropdownButton> <!--Dropdown menu option instead of select-->
            <div class="dropdown">
              <button type="button"
                      class="nw-button"
                      [ngClass]="[button.styleClass]"
                      [title]="button.title"
                      (mouseenter)="button.visibleDropdown = !button.visibleDropdown"
                      [disabled]="disabled"
                      tabindex="-1">
                      <ng-container *ngIf="!button.icon">{{ button.label }}</ng-container>
                      <div *ngIf="button.icon"
                           class="icon"
                           [ngClass]="[button.icon]">
                      </div>
              </button>
              <div class="dropdown-content" 
                   [ngClass]="button.visibleDropdown ? 'show' : ''"
                   (mouseleave)="button.visibleDropdown = false">
                <a *ngFor="let option of button.options" href="#"
                    (click)="execCommand(button.command, option.value)">{{option.label}}</a>
              </div>
            </div>
          </ng-template>
        </ng-template>
      </li>
    </ul>

    <div class="nw-editor-container"
         (click)="container.focus()"
         [ngClass]="{ 'nw-editor-container--with-toolbar': toolbarButtons.length }">
      <div *ngIf="editMode"
           class="nw-editor__src-container">
        <textarea [ngModel]="content"
                  (ngModelChange)="onTextareaChange($event)"
                  (blur)="propagateTouched()"
                  class="nw-editor__src">
        </textarea>
      </div>
      <div class="nw-editor"
           [ngClass]="{ 'nw-disabled': disabled,'nw-invisible': editMode }">
        <div *ngIf="shouldShowPlaceholder()"
             class="nw-editor__placeholder"
             [innerText]="placeholder">
        </div>
        <div #ngWigEditable
             class="nw-editor__res"
             [attr.contenteditable]="!disabled"
             [ngClass]="{ disabled: disabled}"
             (focus)="hasFocus = true"
             (blur)="onBlur()"
             (input)="onContentChange(ngWigEditable.innerHTML)"><!--
    --></div>
      </div>
    </div>
  </div>
